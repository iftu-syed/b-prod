<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Details</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Additional CSS styles specific to details.ejs */
        .user-details-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #333333;
            text-align: center;
            margin-bottom: 20px;
        }

        p {
            font-size: 16px;
            margin-bottom: 10px;
            color: #333333;
        }

        .survey-button {
            display: inline-block;
            padding: 5px 10px;
            background-color: #007bff;
            color: #ffffff;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
        }

        .survey-button:hover {
            background-color: #0056b3;
        }

        .survey-container p span {
            flex: 1;
        }
        .survey-container p {
            display: flex;
            align-items: flex-start;
            margin-bottom: 30px;
            white-space: nowrap; /* Add this line */
        }


        .survey-arrow {
            margin: 0 5px;
            flex-shrink: 0;

        }
        .survey-container p {
            display: flex;
            align-items: flex-start;
            margin-bottom: 30px;
        }

        /* Add a margin-right to create space between the button and the arrow */
        .survey-container p .survey-button {
            margin-right: 10px;
        }

        /* Adjust the flex property to control the alignment of the arrow */
        .survey-container p .survey-arrow {
            flex-shrink: 0;
        }


        .view-history-button {
            display: inline-block;
            padding: 10px 20px;
            background-color: #28a745;
            color: #ffffff;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            margin-top: 20px;
        }

        .view-history-button:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>
    <div class="user-details-container">
        <h2>Patient Details</h2>
        <p><strong>MR_no:</strong> <%= patient.Mr_no %></p>
        <p><strong>Name:</strong> <%= patient.Name %></p>
        <p><strong>Date of Birth:</strong> <%= patient.DOB %></p>
        <p><strong>Date Time:</strong> <%= patient.datetime %></p>
        <p><strong>Speciality:</strong> <%= patient.speciality %></p>
        <p><strong>Date of Surgery:</strong> <%= patient.dateOfSurgery %></p>
        <p><strong>Phone Number:</strong> <%= patient.phoneNumber %></p>
        <br>

        <div class="survey-container">
            <% if (surveyName.length > 0) { %>
                <% surveyName.forEach(function(name) { %>
                    <% if (name === 'ICIQ-UI_SF') { %>
                        <p>
                            <span>Assessment of urinary incontinence in pregnancy</span>
                            <span class="survey-arrow">→</span>
                            <a href="/ICIQ-UI_SF?Mr_no=<%= patient.Mr_no %>" class="survey-button">Fill ICIQ-UI SF Survey</a>
                        </p>
                    <% } else if (name === 'EPDS') { %>
                        <p>
                            <span>Mental Health Resilience post pregnancy survey</span>
                            <span class="survey-arrow">→</span>
                            <a href="/EPDS?Mr_no=<%= patient.Mr_no %>" class="survey-button">Fill EPDS Survey</a>
                        </p>
                    <% } else if (name === 'PAID') { %>
                        <p>
                            <span>Assessment for Diabetes Care</span>
                            <span class="survey-arrow">→</span>
                            <a href="/PAID?Mr_no=<%= patient.Mr_no %>" class="survey-button">Fill PAID Survey</a>
                        </p>
                    <% } else if (name === 'PROMIS-10') { %>
                        <p>
                            <span>Global health</span>
                            <span class="survey-arrow">→</span>
                            <a href="/PROMIS-10?Mr_no=<%= patient.Mr_no %>" class="survey-button">Fill PROMIS-10 Survey</a>
                        </p>
                    <% } else if (name === 'Wexner') { %>
                        <p>
                            <span>Assessment of incontinence to stools in pregnancy</span>
                            <span class="survey-arrow">→</span>
                            <a href="/Wexner?Mr_no=<%= patient.Mr_no %>" class="survey-button">Fill Wexner Survey</a>
                        </p>
                    <% } else if (name === 'PBQ') { %>
                        <p>
                            <span>Assessment of participation in hand injury patients</span>
                            <span class="survey-arrow">→</span>
                            <a href="/PBQ?Mr_no=<%= patient.Mr_no %>" class="survey-button">Fill PBQ Survey</a>
                        </p>
                    <% } else { %>
                        <p>
                            <span><%= name %></span>
                            <span class="survey-arrow">→</span>
                            <a href="/<%= name %>?Mr_no=<%= patient.Mr_no %>" class="survey-button">Fill Survey</a>
                        </p>
                    <% } %>
                <% }); %>
            <% } else { %>
                <p><strong>No surveys available for this speciality.</strong></p>
            <% } %>
        </div>

        <a href="http://127.0.0.1:3055/" class="view-history-button">View History</a>
    </div>
</body>
</html>
