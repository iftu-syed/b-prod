<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PROMIS-10 Form</title>
  <link rel="stylesheet" href="/styles/survey.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

</head>
<body>
  <button class="lang-toggle" onclick="toggleLanguage()">العربية</button>
        
<div class="parentrow">
    
  <div class="parentcolumn left">

    <div class="sidebar">
      <hr class="spacer">
      <img src="/assets/images/logo.png">
      <hr class="spacer">
      <div class="sidebar-item-done">Wexner  <i class='bx bx-check-circle' style="font-size: 20px;"></i></div>
      <div class="sidebar-item-done">ICIQ-UI SF  <i class='bx bx-check-circle' style="font-size: 20px;"></i></div>
      <div class="sidebar-item-done">EPDS <i class='bx bx-check-circle' style="font-size: 20px;"></i></div>
      <div class="sidebar-item-active">PROMIS-10</div>
      <!-- <div class="sidebar-item-inactive">PAID</div> -->
      
      <!-- <div class="legend">
        <h2 data-en="Notes :" data-ar="ملاحظات :">Notes :</h2>
<ul>
          <li data-en="0 = Perfect continence" data-ar="0 = سلس مثالي">1 = Excellent</li>
          <li data-en="1 = Rarely: Less than 1/month" data-ar="1 = نادرا: أقل من 1/شهر">2 = very good</li>
          <li data-en="2 = Sometimes: Less than 1/week, but at least 1/month" data-ar="2 = أحيانا: أقل من 1/أسبوع، ولكن على الأقل 1/شهر">3 = Good</li>
          <li data-en="3 = Usually: Less than 1/day, but at least 1/week" data-ar="3 = عادة: أقل من 1/يوم، ولكن على الأقل 1/أسبوع">4 = Fair</li>
          <li data-en="4 = Always: At least 1/day" data-ar="4 = دائما: على الأقل 1/يوم">5 = Poor</li>
</ul>
      </div> -->

    </div>
      
  </div>

  <div class="parentcolumn right">
    <div class="infobox">
  <h1 data-en="Health Assessment Form" data-ar="الصحة العامة">Health Assessment Form</h1>
  <p> <i class='bx bx-info-circle' style="font-size: 35px;">  </i> PROMIS-10 Global Health is a brief survey that assesses your overall health across physical, mental, and social aspects. It's a quick way to track your health over time and helps doctors understand your concerns from your perspective.</p>
  <hr class="spacer">
  <!-- Progress Bar -->
  <div class="progress-bar">
    <div class="progress" id="progress-bar"></div>
  </div>

  <form action="/submitPROMIS-10" method="POST" class="surveyform">
    <input type="hidden" name="Mr_no" value="<%= Mr_no %>">

    <!-- Questions -->
    <div class="question-container active" id="question-1">
      <div class="back-button">
        <button type="button" onclick="previousQuestion()" style="display:none;"><i class='bx bx-chevrons-left'></i>Previous</button>
      </div>
      <p data-en="In general, would you say your health is:" data-ar="بشكل عام، كيف يمكنك تقييم صحتك؟">Q.1: In general, would you say your health is:</p>
      
      <div id="custom-radio-pos"></div>
      <div id="form-wrapper">
        <div id="custom-radio">
      <input type="radio" name="In general, would you say your health is" id="PROMIS_1" value="5" required>
      <label for="PROMIS_1" data-en="Excellent" data-ar="ممتاز" radio-option="excellent"></label> 
      <input type="radio" name="In general, would you say your health is" id="PROMIS_2" value="4" required>
      <label for="PROMIS_2" data-en="very good" data-ar="جيد جدا" radio-option="very good"></label>
      <input type="radio" name="In general, would you say your health is" id="PROMIS_3" value="3" required>
      <label for="PROMIS_3" data-en="Good" data-ar="جيد" radio-option="good"></label>
      <input type="radio" name="In general, would you say your health is" id="PROMIS_4" value="2" required>
      <label for="PROMIS_4" data-en="Fair" data-ar="مقبول" radio-option="fair"></label>
      <input type="radio" name="In general, would you say your health is" id="PROMIS_5" value="1" required>
      <label for="PROMIS_5" data-en="Poor" data-ar="سيء" radio-option="poor"></label>     
<div id="custom-radio-pos"></div>
      </div>
      <div class="nav-buttons">
        <button type="button" onclick="nextQuestion()"><i class='bx bx-chevrons-right'></i>Next</button>
      </div>
    </div>
    </div>

    <div class="question-container" id="question-2">
      <div class="back-button">
        <button type="button" onclick="previousQuestion()"><i class='bx bx-chevrons-left'></i>Previous</button>
      </div>
      <p data-en="In general, would you say your quality of life is:" data-ar="بشكل عام، كيف يمكنك تقييم نوعية حياتك؟">Q.2: In general, would you say your quality of life is:</p>
      <div id="custom-radio-pos"></div>
      <div id="form-wrapper">
        <div id="custom-radio">
      <input type="radio" name="In general, would you say your quality of life is" id="PROMIS1_1" value="5" required>
      <label for="PROMIS1_1" data-en="Excellent" data-ar="ممتاز" radio-option="excellent"></label> 
      <input type="radio" name="In general, would you say your quality of life is" id="PROMIS1_2" value="4" required>
      <label for="PROMIS1_2" data-en="very good" data-ar="جيد جدا" radio-option="very good"></label>
      <input type="radio" name="In general, would you say your quality of life is" id="PROMIS1_3" value="3" required>
      <label for="PROMIS1_3" data-en="Good" data-ar="جيد" radio-option="good"></label>
      <input type="radio" name="In general, would you say your quality of life is" id="PROMIS1_4" value="2" required>
      <label for="PROMIS1_4" data-en="Fair" data-ar="مقبول" radio-option="fair"></label>
      <input type="radio" name="In general, would you say your quality of life is" id="PROMIS1_5" value="1" required>
      <label for="PROMIS1_5" data-en="Poor" data-ar="سيء" radio-option="poor"></label>     
<div id="custom-radio-pos"></div>
      </div>
      <div class="nav-buttons">
        <button type="button" onclick="nextQuestion()"><i class='bx bx-chevrons-right'></i>Next</button>
      </div>
    </div>
    </div>

    <div class="question-container" id="question-3">
      <div class="back-button">
        <button type="button" onclick="previousQuestion()"><i class='bx bx-chevrons-left'></i>Previous</button>
      </div>
      <p data-en="In general, how would you rate your physical health?" data-ar="بشكل عام، كيف يمكنك تقييم صحتك البدنية؟">Q.3: In general, how would you rate your physical health?</p>
      <div id="form-wrapper">
        <div id="custom-radio">
      <input type="radio" name="In general, how would you rate your physical health?" id="PROMIS2_1" value="5" required>
      <label for="PROMIS2_1" data-en="Excellent" data-ar="ممتاز" radio-option="excellent"></label> 
      <input type="radio" name="In general, how would you rate your physical health?" id="PROMIS2_2" value="4" required>
      <label for="PROMIS2_2" data-en="very good" data-ar="جيد جدا" radio-option="very good"></label>
      <input type="radio" name="In general, how would you rate your physical health?" id="PROMIS2_3" value="3" required>
      <label for="PROMIS2_3" data-en="Good" data-ar="جيد" radio-option="good"></label>
      <input type="radio" name="In general, how would you rate your physical health?" id="PROMIS2_4" value="2" required>
      <label for="PROMIS2_4" data-en="Fair" data-ar="مقبول" radio-option="fair"></label>
      <input type="radio" name="In general, how would you rate your physical health?" id="PROMIS2_5" value="1" required>
      <label for="PROMIS2_5" data-en="Poor" data-ar="سيء" radio-option="poor"></label>     
<div id="custom-radio-pos"></div>
      </div>
      <div class="nav-buttons">
        <button type="button" onclick="nextQuestion()"><i class='bx bx-chevrons-right'></i>Next</button>
      </div>
    </div>
    </div>

    <div class="question-container" id="question-4">
      <div class="back-button">
        <button type="button" onclick="previousQuestion()"><i class='bx bx-chevrons-left'></i>Previous</button>
      </div>
      <p data-en="In general, how would you rate your mental health, including your mood and your ability to think?" data-ar="بشكل عام، كيف يمكنك تقييم صحتك النفسية، بما في ذلك حالتك المزاجية وقدرتك على التفكير؟">Q.4:In general, how would you rate your mental health, including your mood and your ability to think?</p>
      <div id="form-wrapper">
        <div id="custom-radio">
      <input type="radio" name="In general, how would you rate your mental health, including your mood and your ability to think?" id="PROMIS3_1" value="5" required>
      <label for="PROMIS3_1" data-en="Excellent" data-ar="ممتاز" radio-option="excellent"></label> 
      <input type="radio" name="In general, how would you rate your mental health, including your mood and your ability to think?" id="PROMIS3_2" value="4" required>
      <label for="PROMIS3_2" data-en="very good" data-ar="جيد جدا" radio-option="very good"></label>
      <input type="radio" name="In general, how would you rate your mental health, including your mood and your ability to think?" id="PROMIS3_3" value="3" required>
      <label for="PROMIS3_3" data-en="Good" data-ar="جيد" radio-option="good"></label>
      <input type="radio" name="In general, how would you rate your mental health, including your mood and your ability to think?" id="PROMIS3_4" value="2" required>
      <label for="PROMIS3_4" data-en="Fair" data-ar="مقبول" radio-option="fair"></label>
      <input type="radio" name="In general, how would you rate your mental health, including your mood and your ability to think?" id="PROMIS3_5" value="1" required>
      <label for="PROMIS3_5" data-en="Poor" data-ar="سيء" radio-option="poor"></label>     
<div id="custom-radio-pos"></div>
      </div>
      <div class="nav-buttons">
        <button type="button" onclick="nextQuestion()"><i class='bx bx-chevrons-right'></i>Next</button>
      </div>
    </div>
    </div>

    <div class="question-container" id="question-5">
      <div class="back-button">
        <button type="button" onclick="previousQuestion()"><i class='bx bx-chevrons-left'></i>Previous</button>
      </div>
      <p data-en="In general, how would you rate your satisfaction with your social activities and relationships?" data-ar="بشكل عام، كيف يمكنك تقييم رضائك عن نشاطاتك الاجتماعية وعلاقاتك؟">Q.5: In general, how would you rate your satisfaction with your social activities and relationships?</p>      
      <div id="form-wrapper">
        <div id="custom-radio">
      <input type="radio" name="In general, how would you rate your satisfaction with your social activities and relationships?" id="PROMIS4_1" value="5" required>
      <label for="PROMIS4_1" data-en="Excellent" data-ar="ممتاز" radio-option="excellent"></label> 
      <input type="radio" name="In general, how would you rate your satisfaction with your social activities and relationships?" id="PROMIS4_2" value="4" required>
      <label for="PROMIS4_2" data-en="very good" data-ar="جيد جدا" radio-option="very good"></label>
      <input type="radio" name="In general, how would you rate your satisfaction with your social activities and relationships?" id="PROMIS4_3" value="3" required>
      <label for="PROMIS4_3" data-en="Good" data-ar="جيد" radio-option="good"></label>
      <input type="radio" name="In general, how would you rate your satisfaction with your social activities and relationships?" id="PROMIS4_4" value="2" required>
      <label for="PROMIS4_4" data-en="Fair" data-ar="مقبول" radio-option="fair"></label>
      <input type="radio" name="In general, how would you rate your satisfaction with your social activities and relationships?" id="PROMIS4_5" value="1" required>
      <label for="PROMIS4_5" data-en="Poor" data-ar="سيء" radio-option="poor"></label>     
<div id="custom-radio-pos"></div>
      </div>
      <div class="nav-buttons">
        <button type="button" onclick="nextQuestion()"><i class='bx bx-chevrons-right'></i>Next</button>
      </div>
    </div>
    </div>

    <div class="question-container" id="question-6">
      <div class="back-button">
        <button type="button" onclick="previousQuestion()"><i class='bx bx-chevrons-left'></i>Previous</button>
      </div>
      <p data-en="In general, please rate how well you carry out your usual social activities and roles." data-ar="بشكل عام، يرجى تقييم الدرجة التي تستطيع القيام بنشاطاتك وأدوارك الاجتماعية المعتادة. بما في ذلك الأنشطة في البيت، في العمل، وفي مجتمعك ومسؤولياتك كوالد/ة، ابن/ة، زوج/ة، موظف/ة، صديق/ة، إلخ.">Q.6: In general, please rate how well you carry out your usual social activities and roles.</p>
      <div id="form-wrapper">
        <div id="custom-radio">
      <input type="radio" name="In general, please rate how well you carry out your usual social activities and roles." id="PROMIS5_1" value="5" required>
      <label for="PROMIS5_1" data-en="Excellent" data-ar="ممتاز" radio-option="excellent"></label> 
      <input type="radio" name="In general, please rate how well you carry out your usual social activities and roles." id="PROMIS5_2" value="4" required>
      <label for="PROMIS5_2" data-en="very good" data-ar="جيد جدا" radio-option="very good"></label>
      <input type="radio" name="In general, please rate how well you carry out your usual social activities and roles." id="PROMIS5_3" value="3" required>
      <label for="PROMIS5_3" data-en="Good" data-ar="جيد" radio-option="good"></label>
      <input type="radio" name="In general, please rate how well you carry out your usual social activities and roles." id="PROMIS5_4" value="2" required>
      <label for="PROMIS5_4" data-en="Fair" data-ar="مقبول" radio-option="fair"></label>
      <input type="radio" name="In general, please rate how well you carry out your usual social activities and roles." id="PROMIS5_5" value="1" required>
      <label for="PROMIS5_5" data-en="Poor" data-ar="سيء" radio-option="poor"></label>     
<div id="custom-radio-pos"></div>
      </div>
      <div class="nav-buttons">
        <button type="button" onclick="nextQuestion()"><i class='bx bx-chevrons-right'></i>Next</button>
      </div>
    </div>
    </div>

    <div class="question-container" id="question-7">
      <div class="back-button">
        <button type="button" onclick="previousQuestion()"><i class='bx bx-chevrons-left'></i>Previous</button>
      </div>
      <p data-en="To what extent are you able to carry out your everyday physical activities such as walking, climbing stairs, carrying groceries, or moving a chair?" data-ar="إلى أي درجة تستطيع القيام بالنشاطات البدنية اليومية، مثل المشي، صعود الدرج، حمل مواد البقالة، أو تحريك كرسي؟">Q.7: To what extent are you able to carry out your everyday physical activities such as walking, climbing stairs, carrying groceries, or moving a chair?</p>
      <div id="form-wrapper">
        <div id="custom-radio">
      <input type="radio" name="To what extent are you able to carry out your everyday physical activities such as walking, climbing stairs, carrying groceries, or moving a chair?" id="PROMIS7_1" value="5" required>
      <label for="PROMIS7_1" data-en="completely" data-ar="ممتاز" radio-option="completely"></label> 
      <input type="radio" name="To what extent are you able to carry out your everyday physical activities such as walking, climbing stairs, carrying groceries, or moving a chair?" id="PROMIS7_2" value="4" required>
      <label for="PROMIS7_2" data-en="mostly" data-ar="جيد جدا" radio-option="mostly"></label>
      <input type="radio" name="To what extent are you able to carry out your everyday physical activities such as walking, climbing stairs, carrying groceries, or moving a chair?" id="PROMIS7_3" value="3" required>
      <label for="PROMIS7_3" data-en="moderately" data-ar="جيد" radio-option="moderately"></label>
      <input type="radio" name="To what extent are you able to carry out your everyday physical activities such as walking, climbing stairs, carrying groceries, or moving a chair?" id="PROMIS7_4" value="2" required>
      <label for="PROMIS7_4" data-en="a little" data-ar="مقبول" radio-option="a little"></label>
      <input type="radio" name="To what extent are you able to carry out your everyday physical activities such as walking, climbing stairs, carrying groceries, or moving a chair?" id="PROMIS7_5" value="1" required>
      <label for="PROMIS7_5" data-en="not at all" data-ar="سيء" radio-option="not at all"></label>     
<div id="custom-radio-pos"></div>
      </div>
      <div class="nav-buttons">
        <button type="button" onclick="nextQuestion()"><i class='bx bx-chevrons-right'></i>Next</button>
      </div>
    </div>
    </div>

    <div class="question-container" id="question-8">
      <div class="back-button">
        <button type="button" onclick="previousQuestion()"><i class='bx bx-chevrons-left'></i>Previous</button>
      </div>
      <p data-en="How often have you been bothered by emotional problems such as feeling anxious, depressed, or irritable?" data-ar="كم مرة أزعجتك مشاكل عاطفية مثل الشعور بالقلق أو الاكتئاب أو التهيج؟">Q.8: How often have you been bothered by emotional problems such as feeling anxious, depressed, or irritable?</p>
      <div id="form-wrapper">
        <div id="custom-radio">
      <input type="radio" name="How often have you been bothered by emotional problems such as feeling anxious, depressed, or irritable?" id="PROMIS10_1" value="5" required>
      <label for="PROMIS10_1" data-en="never" data-ar="ممتاز" radio-option="never"></label> 
      <input type="radio" name="How often have you been bothered by emotional problems such as feeling anxious, depressed, or irritable?" id="PROMIS10_2" value="4" required>
      <label for="PROMIS10_2" data-en="rarely" data-ar="جيد جدا" radio-option="rarely"></label>
      <input type="radio" name="How often have you been bothered by emotional problems such as feeling anxious, depressed, or irritable?" id="PROMIS10_3" value="3" required>
      <label for="PROMIS10_3" data-en="sometimes" data-ar="جيد" radio-option="sometimes"></label>
      <input type="radio" name="How often have you been bothered by emotional problems such as feeling anxious, depressed, or irritable?" id="PROMIS10_4" value="2" required>
      <label for="PROMIS10_4" data-en="often" data-ar="مقبول" radio-option="often"></label>
      <input type="radio" name="How often have you been bothered by emotional problems such as feeling anxious, depressed, or irritable?" id="PROMIS10_5" value="1" required>
      <label for="PROMIS10_5" data-en="always" data-ar="سيء" radio-option="always"></label>     
<div id="custom-radio-pos"></div>
      </div>
      <div class="nav-buttons">
        <button type="button" onclick="nextQuestion()"><i class='bx bx-chevrons-right'></i>Next</button>
      </div>
    </div>
    </div>

    <div class="question-container" id="question-9">
      <div class="back-button">
        <button type="button" onclick="previousQuestion()"><i class='bx bx-chevrons-left'></i>Previous</button>
      </div>
      <p data-en="How would you rate your fatigue on average?" data-ar="كيف يمكنك تقييم إرهاقك في المتوسط؟">Q.9: How would you rate your fatigue on average?</p>
      <div id="form-wrapper">
        <div id="custom-radio">
      <input type="radio" name="How would you rate your fatigue on average?" id="PROMIS8_1" value="5" required>
      <label for="PROMIS8_1" data-en="none" data-ar="ممتاز" radio-option="none"></label> 
      <input type="radio" name="How would you rate your fatigue on average?" id="PROMIS8_2" value="4" required>
      <label for="PROMIS8_2" data-en="mild" data-ar="جيد جدا" radio-option="mild"></label>
      <input type="radio" name="How would you rate your fatigue on average?" id="PROMIS8_3" value="3" required>
      <label for="PROMIS8_3" data-en="moderate" data-ar="جيد" radio-option="moderate"></label>
      <input type="radio" name="How would you rate your fatigue on average?" id="PROMIS8_4" value="2" required>
      <label for="PROMIS8_4" data-en="severe" data-ar="مقبول" radio-option="severe"></label>
      <input type="radio" name="How would you rate your fatigue on average?" id="PROMIS8_5" value="1" required>
      <label for="PROMIS8_5" data-en="very severe" data-ar="سيء" radio-option="very severe"></label>     
<div id="custom-radio-pos"></div>
      </div>
      <div class="nav-buttons">
        <button type="button" onclick="nextQuestion()"><i class='bx bx-chevrons-right'></i>Next</button>
      </div>
    </div>
    </div>

    <div class="question-container" id="question-10">
      <div class="back-button">
        <button type="button" onclick="previousQuestion()"><i class='bx bx-chevrons-left'></i>Previous</button>
      </div>
      <p data-en="How would you rate your pain on average?" data-ar="كيف يمكنك تقييم ألمك في المتوسط؟">Q.10: How would you rate your pain on average?</p>
      <div id="form-wrapper">
        <div class="horizontal-options" style="display: flex; justify-content: center;">
          <span data-en="0 (no pain)" data-ar="0 (لا شيء على الإطلاق)">(no pain)<--</span>
          <% for(let i = 0; i <= 10; i++) { %>
            <label>
              <input type="radio" name="How would you rate your pain on average?" value="<%= i %>" required> <%= i %>
            </label>
          <% } %>
          <span data-en="10 (worst pain imaginable)" data-ar="10 (بقدر كبير)">-->(worst pain imaginable)</span>
        </div>
      </div>
      <div class="nav-buttons">
        <button type="submit"><i class='bx bx-check-double'></i> Submit</button>
      </div>
    </div>
  </form>

  <script>
    let currentLang = 'en';
    let currentQuestion = 0;
    const questions = document.querySelectorAll('.question-container');
    const progressBar = document.getElementById('progress-bar');

    function updateProgressBar() {
      const progress = ((currentQuestion + 1) / questions.length) * 100;
      progressBar.style.width = `${progress}%`;
    }

    function showQuestion(index) {
      questions.forEach((question, i) => {
        question.classList.toggle('active', i === index);
      });
      updateProgressBar();
    }

    // function nextQuestion() {
    //   if (currentQuestion < questions.length - 1) {
    //     currentQuestion++;
    //     showQuestion(currentQuestion);
    //   }
    // }
    function nextQuestion() {
  // Select all the radio inputs of the current question
  const currentInputs = questions[currentQuestion].querySelectorAll('input[type="radio"]');

  // Check if any of the radio inputs are checked
  let answered = false;
  currentInputs.forEach(input => {
    if (input.checked) {
      answered = true;
    }
  });

  // Get the current question container and the error message element
  const currentQuestionContainer = questions[currentQuestion];
  let errorMessage = currentQuestionContainer.querySelector('.error-message');

  // If the question is answered, proceed to the next question
  if (answered) {
    if (currentQuestion < questions.length - 1) {
      currentQuestion++;
      showQuestion(currentQuestion);
    }
    // Remove error class and message if previously applied
    currentQuestionContainer.classList.remove('error');
    if (errorMessage) {
      errorMessage.remove();
    }
  } else {
    // If not answered, add error class and show error message
    currentQuestionContainer.classList.add('error');
    if (!errorMessage) {
      errorMessage = document.createElement('div');
      errorMessage.className = 'error-message';
      errorMessage.innerText = 'Please answer this question before moving to the next one.';
      currentQuestionContainer.appendChild(errorMessage);
    }
  }
}


    function previousQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        showQuestion(currentQuestion);
      }
    }

    function toggleLanguage() {
      currentLang = currentLang === 'en' ? 'ar' : 'en';
      document.querySelectorAll('[data-en]').forEach(el => {
        el.innerText = el.getAttribute(`data-${currentLang}`);
      });
      document.querySelector('.lang-toggle').innerText = currentLang === 'en' ? 'العربية' : 'English';
    }

    // Initialize progress bar and first question display
    showQuestion(0);
  </script>
</body>
</html>
